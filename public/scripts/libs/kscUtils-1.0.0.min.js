(function(n){n.fn.kscAccordion=function(t){var h="before",u=null,s="after",o=!0,c="horizontal",f="vertical";function e(t,u){u?i.slide===f?(t.animate({height:i.max},i.openDuration,function(){i.callback&&i.callback()}),i.associated&&i.associated.length>0&&n.each(i.associated,function(n,t){var r=Math.abs(i.max-i.min);r=r>t.height()?r-t.height():t.height()-r,t.animate({height:r},i.openDuration)})):i.slide===c&&(t.animate({width:i.max},i.openDuration,function(){i.callback&&i.callback()}),r.animate({width:i.max+20},i.openDuration),i.associated&&i.associated.length>0&&n.each(i.associated,function(n,t){var r=Math.abs(i.max-i.min-10);r=r>t.width()?r-t.width():t.width()-r,t.animate({width:r},i.openDuration)})):i.slide===f?(t.animate({height:i.min},i.closeDuration,function(){i.callback&&i.callback()}),i.associated&&i.associated.length>0&&n.each(i.associated,function(n,t){var r=Math.abs(i.max-i.min);r=r+t.height(),t.animate({height:r},i.closeDuration)})):i.slide===c&&(t.animate({width:i.min},i.closeDuration,function(){i.callback&&i.callback()}),r.animate({width:i.min+20},i.closeDuration),i.associated&&i.associated.length>0&&n.each(i.associated,function(n,t){var r=Math.abs(i.max-i.min-10);r=r+t.width(),t.animate({width:r},i.closeDuration)}))}var r=this,i=n.extend({closeAll:o,closeable:o,bodyLocation:s,closeDuration:500,openDuration:500,slide:f,min:0,max:u,open:o,associated:u,callback:u},t);return i.bodyLocation=i.bodyLocation.trim().toLowerCase(),i.slide=i.slide.trim().toLowerCase(),i.bodyLocation!==s&&i.bodyLocation!==h&&jQuery.error('Error with bodyLocation please use "after" if the body is after the head or "before" if the body is before the head. You entered "'+i.bodyLocation+'"'),isNaN(i.closeDuration)&&jQuery.error('Error with closeDuration this must be a valid number. You entered "'+i.closeDuration+'"'),isNaN(i.openDuration)&&jQuery.error('Error with openDuration this must be a valid number. You entered "'+i.openDuration+'"'),i.slide!==f&&i.slide!==c&&jQuery.error('Error with slide please use "vertical" to slide body up and down or "horizontal" to slide body right and left. You entered "'+i.slide+'"'),r.each(function(){var y=!1,a="ksc_active_panel",v="dt",l=u,t=u,c=u,p;i.slide===f?(n.each(r.children(v),function(r,u){switch(i.bodyLocation){case h:t=n(u).prev();break;case s:t=n(u).next()}i.max=i.max?i.max:t.height(),i.associated&&i.associated.length>0&&n.each(i.associated,function(n,t){var r=Math.abs(i.max-i.min);r=r+t.height(),t.css({height:r})})}),l=r.children("dd"),l&&l.css({height:i.min}),r.children(v).click(function(){c=n(this);switch(i.bodyLocation){case h:t=c.prev();break;case s:t=c.next()}t.hasClass(a)?i.closeable&&(e(t,y),t.removeClass(a)):(i.closeAll&&(e(l,y),l.removeClass(a)),e(t,o),t.addClass(a))})):(t=r.children("dd"),i.max=i.max?i.max:t.width(),r.css({width:i.min+20}),l&&l.css({width:i.min}),i.associated&&i.associated.length>0&&n.each(i.associated,function(n,t){var r=Math.abs(i.max-i.min-10);r=r+t.width(),t.css({width:r})}),c=r.children(v),c.css({position:"absolute",right:0,top:9}),p=c.text(),c.text(""),n.each(p,function(){c.append(this+"</br>")}),c.click(function(){t.hasClass(a)?i.closeable&&(e(t,y),t.removeClass(a)):(i.closeAll&&(e(l,y),l.removeClass(a)),e(t,o),t.addClass(a))})),i.open&&(i.slide===f?r.children(":first-child").trigger("click"):r.children(v).trigger("click"))})}})(jQuery);var ksc=function(){var u=null,n=[],t=function(t,i){var r=$("#loading");t?(n.push(""),i&&i.isLoading(!0)):t||(n.pop(),i&&i.isLoading(!1)),n.length>0?r.css({display:"block"}):r.css({display:"none"})},f=function(n,t){var i=$("#popup");n?(t&&t.isPopup(!0),i.css({display:"block"})):n||(t&&t.isPopup(!1),i.css({display:"none"}))},i=function(n){var t={},i=n.split(/,(?=[^\}]*(?:\{|$))/);return $.each(i,function(n,i){var r=i.split("{"),u,e,f,o;r.length>1?(u={},r[1].indexOf(";")!=-1?(e=r[1].replace(/\}/g,""),t[r[0].trim()]=e.trim()):(f=r[1].split(","),$.each(f,function(n,i){var f=i.replace(/\}/g,"");f=f.split(":"),f[1]&&(u[f[0].trim()]=f[1].trim(),t[r[0].trim()]=u)}))):(o=i.split(","),$.each(r,function(n,i){var r=i.split(":");r[1]&&(t[r[0].trim()]=r[1].trim())}))}),t},r=function(n,i,r,u,f,e,o,s){var c=undefined,h;h=s?s+i:i,h&&(n&&t(!0),$.ajax(h,{type:"post",data:r,contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){n.d&&(n=$.parseJSON(n.d)),n.Code===0?u&&u(n):e&&e(n)},error:function(n){Error&&Error(n)},complete:function(){n&&t(!1),f&&f(c)}}))};return{Post:r,ServicePath:u,Loading:t,Popup:f,ParseOptionsFromString:i}}();