$(function(){var t=!1,i;if($popupWrappers=$("[ksc-popup*=wrapper]"),$popupWrappers){i=$("#popup"),i.length<1&&($("body").append('<div id="popup" style="display: none;position:absolute;top:0px;right:0px;\tbottom:0px;left:0px;background-color:rgba(100,100,100,.25);"><div id="pop_form" style="position:fixed; top:15%;right:50%;background-color:#fff;-moz-box-shadow:1px 1px 14px -3px #000000;-webkit-box-shadow: 1px 1px 14px -3px #00000;box-shadow:1px 1px 14px -3px #000000;-webkit-border-radius: 5px;-moz-border-radius: 5px;border-radius: 5px;"><div id="pop_head" style="position: absolute;right: 5px;left: 5px;top:5px;width: auto;height:40px;background-color: #ccc;-webkit-border-radius: 5px;-moz-border-radius: 5px;border-radius: 5px;"><span id="pop_x" style="float: right;margin-right:10px;text-align: center;font-size: 35px;cursor: pointer;">X</span></div><div id="pop_content" style="position: absolute;right: 10px;left: 10px;top:60px;bottom:40px;width: auto;overflow:auto;"></div></div></div>'),i=$("#popup"));var n=i.children("#pop_form"),r=n.children("#pop_head"),u=r.children("#pop_x"),f=n.children("#pop_content");u.hover(function(){$(this).css({"text-shadow":"1px 1px 1px #000"})},function(){$(this).css({"text-shadow":"0px 0px 0px #000"})}).click(function(){return ksc.Popup(t),t}),$("[ksc-popup]").each(function(){var h="ksc-popup",o=$(this),c,s,i=ksc.ParseOptionsFromString(o.attr(h)),u,e;i.type&&i.type==="wrapper"&&(s=o.find('[ksc-popup*="content"]'),s.hide(),i.opener&&(u="",e="",i.opener.class&&(e+='class="'+i.opener.class+'""'),i.opener.type&&i.opener.type==="button"&&(u+='<input ksc-popup="type:helper, opener:true" type="button" '+e+" ",i.opener.text&&(u+='value="'+i.opener.text+'" '),u+=" />"),u===""&&(u+='<span ksc-popup="type:helper, open:true" '+e+" >",i.opener.text&&(u+=i.opener.text),u+="</span>"),o.append(u)),o.find('[ksc-popup*="helper"]').each(function(){var e=$(this),u=ksc.ParseOptionsFromString(e.attr(h));u.opener&&u.opener==="true"&&e.click(function(){var e,u;return i.width?(i.width=parseInt(i.width),isNaN(i.width)||i.width<1?n.css({width:"600","margin-right":"-300"}):(e=Math.round(i.width/-2),n.css({width:i.width,"margin-right":e}))):(e=Math.round(-300),n.css({width:"600","margin-right":e})),i.height?n.css({height:i.height}):n.css({height:"500"}),i.style&&(u=i.style.split(";"),$.each(u,function(t,i){var f=i.split(":"),u,r,o,e;f.length>1&&(u=f[0].trim(),r=f[1].trim(),n.css(u,r),u==="width"&&(o=parseInt(r),e=Math.round(o/-2),n.css({"margin-right":e})))})),i.headstyle&&(u=i.headstyle.split(";"),$.each(u,function(n,t){var i=t.split(":"),f,u;i.length>1&&(f=i[0].trim(),u=i[1].trim(),r.css(f,u))})),f.append(s.detach().show()),ksc.Popup(!0),t}),u.closer&&u.closer==="true"&&e.click(function(){return ksc.Popup(t),t})}))})}});